(this.webpackJsonpaviabit=this.webpackJsonpaviabit||[]).push([[0],{406:function(e,t,n){"use strict";n.r(t);var a,i=n(0),c=n(17),r=n(70),o=n(46),l=n(222),s=n(248),d=n(25),h="LOAD_FLIGHTS",u="CHANGE_STATISTIC_TYPE",j="CHANGE_FILTER",b="SEARCH_NEXT_FLIGHT",g=function(e){return{type:"LOAD_FLIGHTS",payload:e}},f=function(e){return{type:"CHANGE_STATISTIC_TYPE",payload:e}},m=function(e){return{type:"CHANGE_FILTER",payload:e}},p=function(){return{type:"SEARCH_NEXT_FLIGHT"}},x=n(73),O=n(37),y=2010,F=2022,v=1e3,N=5e3,T=["B-757-200","B-757-300","B-767-200","B-767-300","A-380","A-350"],k=100,w=999,W=14400,S=36e3,A=3600,I=3600,E=1800,C=function(e,t){return Math.floor(e+Math.random()*(t-e))},B=function(){var e=C(W,S),t=e-A-I,n=t-E,a=0,i=0;return Math.random()>.5&&(i=a=n-C(0,n)),{work:e,block:t,flight:n,night:a,biologicalNight:i}},H=function(){var e,t,n=B();return{dateFlight:(e=y,t=F,new Date(e+Math.random()*(t-e),C(0,11),C(1,30))),flight:C(v,N),plnType:T[C(0,T.length)],pln:"".concat(C(k,w),"AK"),timeFlight:n.flight,timeBlock:n.block,timeNight:n.night,timeBiologicalNight:n.biologicalNight,timeWork:n.work,type:Math.random()>.5,takeoff:{name:"\u0422\u043e\u043c\u0441\u043a(\u0411\u043e\u0433\u0430\u0448\u0435\u0432\u043e)",lat:56.38333333,long:85.2},landing:{name:"\u041d\u044f\u0447\u0430\u043d\u0433(\u041a\u0430\u043c\u0440\u0430\u043d\u044c \u0418\u043d\u0442\u043b)",lat:11.99805555,long:109.21944444}}},M=function(){for(var e=[],t=0;t<500;t++)e.push(H());return e},L=function(e,t){return e.dateFlight-t.dateFlight>0?1:e.dateFlight-t.dateFlight<0?-1:0},R="/",Y="/details",D="YEARS",_="MONTHS",G=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],z=n(246),P={MONTH:function(e){return e.getMonth()},YEAR:function(e){return e.getFullYear()}},K=function(e,t){return e.reduce((function(e,n){var a=P[t](n.dateFlight);return e[a]=e[a]||[],e[a].push(n),e}),{})},J=function(e,t,n){var a=G.reduce((function(e,t){return e[t]=[],e}),{});return e[n].reduce((function(e,n){return e[G[P[t](n.dateFlight)]].push(n),e}),a)},U=function(e){return e.filter((function(e){return!!e.type}))},V=function(e,t,n){var a=K(e,"YEAR");return function(e,t){var n=Object.keys(e);switch(t){case D:return n.reduce((function(t,n){var a=e[n].reduce((function(e,t){return e.timeFlight+=t.timeFlight||0,e.timeWork+=t.timeWork||0,e}),{timeFlight:0,timeWork:0,name:n});return t.push(a),t}),[]);case _:return G.reduce((function(t,n){var a=e[n].reduce((function(e,t){return e.timeFlight+=t.timeFlight||0,e.timeWork+=t.timeWork||0,e}),{timeFlight:0,timeWork:0,name:n});return t.push(a),t}),[]);default:return e}}(t===D?a:J(a,"MONTH",n),t)},X=function(e){return Math.floor(e/3600)},q=function(e){var t=function(e){for(var t=new Date,n=[t.getFullYear(),G[t.getMonth()]],a=n[0],i=n[1],c=K(e,"YEAR"),r=J(c,"MONTH",a),o=r[i].filter((function(e){return e.dateFlight>t})).sort(L).slice(-1)[0];!o;)12===(i=t.getMonth()+1)&&(a=t.getFullYear()+1,i=0),o=r[G[i]].filter((function(e){return e.dateFlight>t})).sort(L).slice(-1)[0];return o}(U(e));return console.log(t),t},Q={flights:[],isFlightsLoaded:!1,nextFlight:{date:"",flightNumber:"",plnType:"",pln:""},isNextFlightFinded:!1},Z={statisticType:D,filter:(new Date).getFullYear()},$="FLIGHTS",ee="STATISTIC",te=Object(r.combineReducers)((a={},Object(x.a)(a,$,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var n=M();return Object(O.a)(Object(O.a)({},e),{},{flights:n,isFlightsLoaded:!0});case b:var a=q(e.flights);return Object(O.a)(Object(O.a)({},e),{},{nextFlight:a,isNextFlightFinded:!0});default:return e}})),Object(x.a)(a,ee,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(O.a)(Object(O.a)({},e),{},{statisticType:t.payload});case j:return Object(O.a)(Object(O.a)({},e),{},{filter:t.payload});default:return e}})),a)),ne=n(453),ae=n(457),ie=n(446),ce=n(436),re=n(435),oe=n(433),le=n(460),se=n(5),de=Object(oe.a)({root:{marginBottom:"13px"},userName:{color:"#000000",fontWeight:700},userMail:{color:"#676565",fontWeight:400}}),he=function(){var e=de();return Object(se.jsxs)(re.a,{container:!0,spacing:5,wrap:"nowrap",alignContent:"space-between",item:!0,className:e.root,children:[Object(se.jsx)(re.a,{item:!0,children:Object(se.jsx)(le.a,{alt:"Sheldon Cooper",style:{width:"60px",height:"60px"},src:"./img/avatar.jpg"})}),Object(se.jsx)(re.a,{container:!0,alignItems:"center",item:!0,children:Object(se.jsxs)(re.a,{item:!0,children:[Object(se.jsx)(ce.a,{className:e.userName,variant:"body1",children:"\u0428\u0435\u043b\u0434\u043e\u043d \u041a\u0443\u043f\u0435\u0440"}),Object(se.jsx)(ce.a,{className:e.userMail,variant:"body2",children:"sheldon.cooper@gmail.com"})]})})]})},ue=n(27),je=n(437),be=n(438),ge=n(439),fe=n(440),me=n(441),pe=n(442),xe=n(443),Oe=Object(oe.a)({grid:{width:"100%",borderBottom:"1px solid rgba(16, 66, 195, 0.15)",paddingBottom:"24px"},card:{boxShadow:"none"},plane:{marginBottom:"15px"},row:{display:"flex",justifyContent:"space-between",marginBottom:"13px"},th:{border:"none",paddingLeft:0,paddingTop:"10px",paddingBottom:"10px",color:"#000000",fontWeight:700},td:{border:"none",paddingRight:0,paddingTop:"10px",paddingBottom:"10px",color:"#676565",fontWeight:400}}),ye=function(e,t){return{name:e,data:t}},Fe=Object(o.b)((function(e){return{nextFlight:e[$].nextFlight,isFlightsLoaded:e[$].isFlightsLoaded,isNextFlightFinded:e[$].isNextFlightFinded}}),(function(e){return{searchNextFlight:function(){e(p())}}}))((function(e){var t=e.nextFlight,n=e.isNextFlightFinded,a=e.searchNextFlight,c=e.isFlightsLoaded,r=Oe(),o=Object(i.useState)({date:"",flightNumber:"",plnType:"",pln:""}),l=Object(ue.a)(o,2),s=l[0],d=l[1],h=s.date,u=s.flightNumber,j=s.plnType,b=s.pln;Object(i.useEffect)((function(){!n&&c&&a()}),[n,a,c]),Object(i.useEffect)((function(){n&&d({date:"".concat(t.dateFlight.toLocaleTimeString().slice(0,5)," ").concat(t.dateFlight.getDate()," ").concat(G[t.dateFlight.getMonth()]," ").concat(t.dateFlight.getFullYear()),flightNumber:t.flight,plnType:t.plnType,pln:t.pln})}),[n,t,d]);var g=[ye("\u0414\u0430\u0442\u0430 \u0440\u0435\u0439\u0441\u0430",h),ye("\u041d\u043e\u043c\u0435\u0440 \u0440\u0435\u0439\u0441\u0430",u),ye("\u0422\u0438\u043f \u0432\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0433\u043e \u0441\u0443\u0434\u043d\u0430",j),ye("\u0411\u043e\u0440\u0442\u043e\u0432\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0443\u0434\u043d\u0430",b)];return n?Object(se.jsxs)(re.a,{item:!0,className:r.grid,children:[Object(se.jsx)(je.a,{className:r.card,children:Object(se.jsx)(be.a,{component:"img",alt:"Plane type",width:"257",height:"89",image:"./img/plane.png",title:"Plane type",className:r.plane})}),Object(se.jsx)(ge.a,{style:{padding:0},children:Object(se.jsx)(fe.a,{children:Object(se.jsx)(me.a,{children:g.map((function(e){return Object(se.jsxs)(pe.a,{className:r.row,children:[Object(se.jsx)(xe.a,{component:"th",variant:"head",className:r.th,children:e.name}),Object(se.jsx)(xe.a,{variant:"body",className:r.td,align:"right",children:e.data})]},e.name)}))})})})]}):Object(se.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})),ve=n(459),Ne=n(444),Te=n(445),ke=n(224),we=n.n(ke),We=Object(oe.a)({root:{boxSizing:"content-box",boxShadow:"none",maxWidth:"100%"},accordionItem:{padding:"0"},label:{fontWeight:700},userMail:{color:"#676565",fontWeight:400},expandIcon:{position:"relative",color:"#4e85f5"}}),Se=function(e){var t=e.children,n=e.renderDetails,a=We();return Object(se.jsx)(re.a,{item:!0,children:Object(se.jsxs)(ve.a,{className:a.root,children:[Object(se.jsx)(Ne.a,{expandIcon:Object(se.jsx)(we.a,{className:a.expandIcon}),"aria-controls":"panel1a-content",id:"panel1a-header",className:a.accordionItem,children:Object(se.jsx)(ce.a,{className:a.label,children:t})}),Object(se.jsx)(Te.a,{className:a.accordionItem,children:n()})]})})},Ae=n(463),Ie=n(448),Ee=n(452),Ce=n(114),Be=n(242),He=n(243),Me=n(247),Le=n(166),Re=Object(Le.a)((function(e){return e[$].flights}),(function(e){return e[ee].statisticType}),(function(e){return e[ee].filter}),(function(e,t,n){var a=function(e){return e.filter((function(e){return!e.type}))}(e),i=U(e);return function(e,t){if(Object.keys(e).length&&Object.keys(t).length){var n=new Set;return e.forEach((function(e){n.add(e.name)})),t.forEach((function(e){n.add(e.name)})),Object(z.a)(n).reduce((function(n,a){var i={},c=e.filter((function(e){return e.name===a})),r=t.filter((function(e){return e.name===a}));return c.length&&(i.actualTimeFlight=X(c[0].timeFlight),i.actualTimeWork=X(c[0].timeWork)),r.length&&(i.plannedTimeFlight=X(r[0].timeFlight),i.plannedTimeWork=X(r[0].timeWork)),i.name=a,n.push(i),n}),[])}}(V(a,t,n),V(i,t,n))||[]})),Ye=Object(Le.a)((function(e){return e[$].flights}),(function(e){var t=K(e,"YEAR");return Object.keys(t)})),De=n(461),_e=n(7),Ge=Object(oe.a)({labelFont:{padding:"5px",fontSize:"12px",fontWeight:700,borderRadius:"5px"},gridItem:{flexBasis:"33%",width:"33%",flexGrow:"1"}}),ze=Object(_e.a)({switchBase:{color:"#4e85f5",margin:"0 auto"},checked:{},track:{backgroundColor:"#4e85f5"}})(De.a),Pe=function(e){var t=e.changeHandler,n=e.labels,a=Ge(),c=Object(ue.a)(n,2),r=c[0],o=c[1],l=Object(i.useState)({checkedA:!1}),s=Object(ue.a)(l,2),d=s[0],h=s[1];return Object(se.jsx)(ie.a,{style:{padding:"0"},children:Object(se.jsxs)(re.a,{component:"label",container:!0,justify:"space-between",alignItems:"center",children:[Object(se.jsx)(re.a,{item:!0,className:a.gridItem,style:{textAlign:"right"},children:Object(se.jsx)(ce.a,{className:a.labelFont,style:d.checkedA?{}:{border:"2px solid #4e85f5",padding:"3px"},component:"p",children:r})}),Object(se.jsx)(re.a,{item:!0,children:Object(se.jsx)(ze,{checked:d.checkedA,onChange:function(e){h(Object(O.a)(Object(O.a)({},d),{},Object(x.a)({},e.target.name,e.target.checked))),t()},name:"checkedA",inputProps:{"aria-label":"statistic type toggle"},className:a.switchBase})}),Object(se.jsx)(re.a,{item:!0,className:a.gridItem,children:Object(se.jsx)(ce.a,{className:a.labelFont,style:d.checkedA?{border:"2px solid #4e85f5",padding:"3px"}:{},component:"p",children:o})})]})})},Ke=n(447),Je=n(456),Ue=n(462),Ve=Object(oe.a)((function(e){return{grid:{justifyContent:"space-between"},formControl:{margin:e.spacing(1),minWidth:120,background:"#ffffff"},select:{color:"black",height:"20px"},selectEmpty:{marginTop:e.spacing(2)}}})),Xe=Object(o.b)((function(e){return{filter:e[ee].filter,years:Ye(e)}}),(function(e){return{setFilter:function(t){e(m(t))}}}))((function(e){var t=e.filter,n=e.setFilter,a=e.years,i=Ve();return Object(se.jsx)(ie.a,{style:{padding:"0"},children:Object(se.jsxs)(re.a,{container:!0,className:i.grid,children:[Object(se.jsx)(ce.a,{component:"p",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434"}),Object(se.jsx)(Ke.a,{variant:"outlined",className:i.formControl,children:Object(se.jsx)(Je.a,{className:i.select,labelId:"select-label",id:"select-outlined",value:t,defaultValue:t,onChange:function(e){n(e.target.value)},label:"Year",children:a.map((function(e,t){return Object(se.jsx)(Ue.a,{value:e,children:e},"".concat(e,"-").concat(t))}))})})]})})})),qe=["\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b","\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u043b\u0451\u0442\u0430"],Qe=["\u0413\u043e\u0434\u044b","\u041c\u0435\u0441\u044f\u0446\u044b"],Ze=Object(o.b)((function(e){return{chartData:Re(e)}}),(function(e){return{toggleStatisticType:function(t){e(f(t))}}}))((function(e){var t,n=e.chartData,a=e.toggleStatisticType;t=void 0!==window.innerWidth?window.innerWidth:document.documentElement.clientWidth,console.log(t);var c=Object(i.useState)(!1),r=Object(ue.a)(c,2),o=r[0],l=r[1],s=Object(i.useState)(!1),d=Object(ue.a)(s,2),h=d[0],u=d[1],j=h?{marginBottom:"0"}:{marginBottom:"30px"},b=Object(i.useCallback)((function(){l(!o)}),[o]),g=Object(i.useCallback)((function(){u(!h)}),[h]);return Object(i.useEffect)((function(){a(h?_:D)}),[h,a]),Object(se.jsxs)(re.a,{container:!0,children:[Object(se.jsx)(Pe,{changeHandler:g,labels:Qe}),Object(se.jsx)(Pe,{style:j,changeHandler:b,labels:qe}),Object(se.jsx)(re.a,{item:!0,style:{padding:"10px 0",minHeight:"50px",minWidth:"100%"},children:h&&Object(se.jsx)(Xe,{})}),Object(se.jsx)(re.a,{item:!0,style:{padding:"10px 0",minHeight:"300px",minWidth:"100%"},children:Object(se.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(se.jsx)(Ae.a,{children:Object(se.jsxs)(Ie.a,{width:280,height:320,data:n,margin:{left:-25,right:10},children:[Object(se.jsx)(Ee.a,{strokeDasharray:"3 3"}),Object(se.jsx)(Ce.a,{wrapperStyle:{position:"relative"},layout:"horizontal",verticalAlign:"bottom",align:"right"}),Object(se.jsx)(Be.a,{dataKey:"name"}),Object(se.jsx)(He.a,{}),o&&Object(se.jsx)(Me.a,{barSize:10,dataKey:"actualTimeFlight",name:"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u043b\u0435\u0442\u0430",stackId:"a",fill:"rgb(78, 133, 245)"}),o&&Object(se.jsx)(Me.a,{barSize:10,dataKey:"plannedTimeFlight",name:"\u041f\u043b\u0430\u043d\u043e\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u043b\u0435\u0442\u0430",stackId:"a",fill:"rgba(78, 133, 245, 0.6)"}),!o&&Object(se.jsx)(Me.a,{barSize:10,dataKey:"actualTimeWork",name:"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b",stackId:"a",fill:"rgb(78, 133, 245)"}),!o&&Object(se.jsx)(Me.a,{barSize:10,dataKey:"plannedTimeWork",name:"\u041f\u043b\u0430\u043d\u043e\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b",stackId:"a",fill:"rgba(78, 133, 245, 0.6)"})]})})})})]})})),$e=Object(oe.a)({label:{color:"#676565",fontWeight:400,fontSize:"12px"},userMail:{color:"#676565",fontWeight:400},expandIcon:{position:"relative",color:"#4e85f5"}}),et=function(){var e=$e();return Object(se.jsxs)(re.a,{container:!0,children:[Object(se.jsx)(ce.a,{className:e.label,children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043d\u0430\u043b\u0435\u0442\u0430 \u0438 \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"}),Object(se.jsx)(Ze,{})]})},tt=Object(oe.a)({header:{background:"#4e85f5",padding:"28px 0 8px 20px"},main:{padding:"15px 20px 13px 20px"}}),nt=function(e){e.history;var t=tt(),n=Object(ne.a)("(min-width: 600px)");return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(ae.a,{className:t.header,children:Object(se.jsx)(ie.a,{maxWidth:"xs",children:Object(se.jsx)(ce.a,{color:"textPrimary",variant:n?"h4":"h5",component:"h1",gutterBottom:!0,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})}),Object(se.jsx)(ae.a,{className:t.main,children:Object(se.jsxs)(re.a,{container:!0,children:[Object(se.jsx)(he,{}),Object(se.jsx)(Fe,{}),Object(se.jsx)(Se,{style:{width:"350px"},renderDetails:function(){return Object(se.jsx)(et,{})},children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043d\u0430\u043b\u0451\u0442\u0430"})]})})]})},at=function(){var e=Object(ne.a)("(min-width: 600px)");return Object(se.jsx)(ie.a,{maxWidth:"xs",children:Object(se.jsxs)(ae.a,{my:4,textAlign:"center",children:[Object(se.jsx)(ce.a,{variant:e?"h4":"h5",component:"h2",gutterBottom:!0,children:"\u0414\u0435\u0442\u0430\u043b\u0438"}),Object(se.jsx)(ae.a,{minHeight:"400px",children:Object(se.jsx)(Ze,{my:4})})]})})},it=n(244),ct=n(454),rt=n(455),ot=Object(o.b)((function(e){return{isFlightsLoaded:e[$].isFlightsLoaded}}),(function(e){return{getFlights:function(){e(g())}}}))((function(e){var t=e.isFlightsLoaded,n=e.getFlights,a=Object(it.a)({overrides:{MuiCssBaseline:{"@global":{body:{backgroundColor:"#ffffff"}}}},palette:{primary:{main:"#e5e5e5"},secondary:{main:"#4e85f5"},text:{primary:"#ffffff",secondary:"#000000",third:"#676565"}},background:{default:"#e5e5e5"},typography:{body1:{fontWeight:400,color:"#000000"},body2:{fontWeight:700,color:"#676565"},h5:{fontWeight:700}},spacing:2});return Object(i.useEffect)((function(){t||n()}),[t,n]),Object(se.jsxs)(ct.a,{theme:a,children:[Object(se.jsx)(rt.a,{}),Object(se.jsx)(s.a,{children:Object(se.jsxs)(d.c,{children:[Object(se.jsx)(d.a,{exact:!0,path:R,render:function(e){return Object(se.jsx)(nt,{history:e.history})}}),Object(se.jsx)(d.a,{exact:!0,path:Y,render:function(){return Object(se.jsx)(at,{})}})]})})]})})),lt=Object(r.createStore)(te,Object(l.composeWithDevTools)());Object(c.render)(Object(se.jsx)(o.a,{store:lt,children:Object(se.jsx)(ot,{})}),document.getElementById("root"))}},[[406,1,2]]]);
//# sourceMappingURL=main.31c2a064.chunk.js.map