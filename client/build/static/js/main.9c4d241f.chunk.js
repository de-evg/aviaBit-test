(this.webpackJsonpaviabit=this.webpackJsonpaviabit||[]).push([[0],{406:function(e,t,n){"use strict";n.r(t);var a,c=n(0),i=n(17),r=n(70),o=n(46),l=n(222),s=n(248),d=n(25),h="LOAD_FLIGHTS",j="CHANGE_STATISTIC_TYPE",u="CHANGE_FILTER",b=function(e){return{type:"LOAD_FLIGHTS",payload:e}},g=function(e){return{type:"CHANGE_STATISTIC_TYPE",payload:e}},f=function(e){return{type:"CHANGE_FILTER",payload:e}},m=n(73),p=n(41),x=2010,O=2022,y=1e3,T=5e3,F=["B-757-200","B-757-300","B-767-200","B-767-300","A-380","A-350"],v=100,k=999,S=14400,I=36e3,N=3600,A=3600,w=1800,W=function(e,t){return Math.floor(e+Math.random()*(t-e))},C=function(){var e=W(S,I),t=e-N-A,n=t-w,a=0,c=0;return Math.random()>.5&&(c=a=n-W(0,n)),{work:e,block:t,flight:n,night:a,biologicalNight:c}},B=function(){var e,t,n=C();return{dateFlight:(e=x,t=O,new Date(e+Math.random()*(t-e),W(0,11),W(1,30))),flight:W(y,T),plnType:F[W(0,F.length)],pln:"".concat(W(v,k),"AK"),timeFlight:n.flight,timeBlock:n.block,timeNight:n.night,timeBiologicalNight:n.biologicalNight,timeWork:n.work,type:Math.random()>.5,takeoff:{name:"\u0422\u043e\u043c\u0441\u043a(\u0411\u043e\u0433\u0430\u0448\u0435\u0432\u043e)",lat:56.38333333,long:85.2},landing:{name:"\u041d\u044f\u0447\u0430\u043d\u0433(\u041a\u0430\u043c\u0440\u0430\u043d\u044c \u0418\u043d\u0442\u043b)",lat:11.99805555,long:109.21944444}}},E=function(){for(var e=[],t=0;t<500;t++)e.push(B());return e},H=n(246),L=n(166),M="/",G="/details",D="YEARS",Y="MONTHS",R=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],P={MONTH:function(e){return e.getMonth()},YEAR:function(e){return e.getFullYear()}},_=function(e,t){return e.dateFlight-t.dateFlight>0?1:e.dateFlight-t.dateFlight<0?-1:0},z=function(e,t){return e.reduce((function(e,n){var a=P[t](n.dateFlight);return e[a]=e[a]||[],e[a].push(n),e}),{})},K=function(e,t,n){var a=R.reduce((function(e,t){return e[t]=[],e}),{});return e[n].reduce((function(e,n){return e[R[P[t](n.dateFlight)]].push(n),e}),a)},J=function(e){return e.filter((function(e){return!!e.type}))},U=function(e,t,n){var a=z(e,"YEAR");return function(e,t){var n=Object.keys(e);switch(t){case D:return n.reduce((function(t,n){var a=e[n].reduce((function(e,t){return e.timeFlight+=t.timeFlight||0,e.timeWork+=t.timeWork||0,e}),{timeFlight:0,timeWork:0,name:n});return t.push(a),t}),[]);case Y:return R.reduce((function(t,n){var a=e[n].reduce((function(e,t){return e.timeFlight+=t.timeFlight||0,e.timeWork+=t.timeWork||0,e}),{timeFlight:0,timeWork:0,name:n});return t.push(a),t}),[]);default:return e}}(t===D?a:K(a,"MONTH",n),t)},V=function(e){return Math.floor(e/3600)},q=Object(L.a)((function(e){return e[ee.FLIGHTS].flights}),(function(e){return e[ee.STATISTIC].statisticType}),(function(e){return e[ee.STATISTIC].filter}),(function(e,t,n){var a=function(e){return e.filter((function(e){return!e.type}))}(e),c=J(e);return function(e,t){if(Object.keys(e).length&&Object.keys(t).length){var n=new Set;return e.forEach((function(e){n.add(e.name)})),t.forEach((function(e){n.add(e.name)})),Object(H.a)(n).reduce((function(n,a){var c={},i=e.filter((function(e){return e.name===a})),r=t.filter((function(e){return e.name===a}));return i.length&&(c.actualTimeFlight=V(i[0].timeFlight),c.actualTimeWork=V(i[0].timeWork)),r.length&&(c.plannedTimeFlight=V(r[0].timeFlight),c.plannedTimeWork=V(r[0].timeWork)),c.name=a,n.push(c),n}),[])}}(U(a,t,n),U(c,t,n))||[]})),Q=Object(L.a)((function(e){return e[ee.FLIGHTS].flights}),(function(e){var t=z(e,"YEAR");return Object.keys(t)})),X=function(e){return function(e){var t=new Date,n=[t.getFullYear(),R[t.getMonth()]],a=n[0],c=n[1],i=z(e,"YEAR");return K(i,"MONTH",a)[c].filter((function(e){return e.dateFlight>t})).sort(_).slice(-1)[0]}(J(e))},Z={flights:[],isFlightsLoaded:!1,nextFlight:{}},$={statisticType:D,filter:(new Date).getFullYear()},ee={FLIGHTS:"FLIGHTS",STATISTIC:"STATISTIC"},te=Object(r.combineReducers)((a={},Object(m.a)(a,ee.FLIGHTS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var n=E(),a=X(n);return Object(p.a)(Object(p.a)({},e),{},{flights:n,isFlightsLoaded:!0,nextFlight:a});default:return e}})),Object(m.a)(a,ee.STATISTIC,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(p.a)(Object(p.a)({},e),{},{statisticType:t.payload});case u:return Object(p.a)(Object(p.a)({},e),{},{filter:t.payload});default:return e}})),a)),ne=n(453),ae=n(457),ce=n(446),ie=n(436),re=n(435),oe=n(433),le=n(460),se=n(5),de=Object(oe.a)({root:{marginBottom:"13px"},userName:{color:"#000000",fontWeight:700},userMail:{color:"#676565",fontWeight:400}}),he=function(){var e=de();return Object(se.jsxs)(re.a,{container:!0,spacing:5,wrap:"nowrap",alignContent:"space-between",item:!0,className:e.root,children:[Object(se.jsx)(re.a,{item:!0,children:Object(se.jsx)(le.a,{alt:"Sheldon Cooper",style:{width:"60px",height:"60px"},src:"./img/avatar.jpg"})}),Object(se.jsx)(re.a,{container:!0,alignItems:"center",item:!0,children:Object(se.jsxs)(re.a,{item:!0,children:[Object(se.jsx)(ie.a,{className:e.userName,variant:"body1",children:"\u0428\u0435\u043b\u0434\u043e\u043d \u041a\u0443\u043f\u0435\u0440"}),Object(se.jsx)(ie.a,{className:e.userMail,variant:"body2",children:"sheldon.cooper@gmail.com"})]})})]})},je=n(437),ue=n(438),be=n(439),ge=n(440),fe=n(441),me=n(442),pe=n(443),xe=Object(oe.a)({grid:{width:"100%",borderBottom:"1px solid rgba(16, 66, 195, 0.15)",paddingBottom:"24px"},card:{boxShadow:"none"},plane:{marginBottom:"15px"},row:{marginBottom:"13px"},th:{border:"none",paddingLeft:0,paddingTop:"10px",paddingBottom:"10px",color:"#000000",fontWeight:700},td:{border:"none",paddingRight:0,paddingTop:"10px",paddingBottom:"10px",color:"#676565",fontWeight:400}}),Oe=function(e,t){return{name:e,data:t}},ye=Object(o.b)((function(e){return{nextFlight:e[ee.FLIGHTS].nextFlight}}))((function(e){var t=e.nextFlight,n=xe(),a="",c="",i="",r="";Object.keys(t).length&&(a="".concat(t.dateFlight.toLocaleTimeString().slice(0,5)," ").concat(t.dateFlight.getDate()," ").concat(R[t.dateFlight.getMonth()]," ").concat(t.dateFlight.getFullYear()),c=t.flight,i=t.plnType,r=t.pln);var o=[Oe("\u0414\u0430\u0442\u0430 \u0440\u0435\u0439\u0441\u0430",a),Oe("\u041d\u043e\u043c\u0435\u0440 \u0440\u0435\u0439\u0441\u0430",c),Oe("\u0422\u0438\u043f \u0432\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0433\u043e \u0441\u0443\u0434\u043d\u0430",i),Oe("\u0411\u043e\u0440\u0442\u043e\u0432\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0443\u0434\u043d\u0430",r)];return Object(se.jsxs)(re.a,{item:!0,className:n.grid,children:[Object(se.jsx)(je.a,{className:n.card,children:Object(se.jsx)(ue.a,{component:"img",alt:"Plane type",width:"257",height:"89",image:"./img/plane.png",title:"Plane type",className:n.plane})}),Object(se.jsx)(be.a,{style:{padding:0},children:Object(se.jsx)(ge.a,{children:Object(se.jsx)(fe.a,{children:o.map((function(e){return Object(se.jsx)(me.a,{className:n.row,children:Object(se.jsxs)(re.a,{container:!0,justify:"space-between",children:[Object(se.jsx)(pe.a,{component:"th",variant:"head",className:n.th,children:e.name}),Object(se.jsx)(pe.a,{variant:"body",className:n.td,align:"right",children:e.data})]})},e.name)}))})})})]})})),Te=n(459),Fe=n(444),ve=n(445),ke=n(224),Se=n.n(ke),Ie=Object(oe.a)({root:{boxSizing:"content-box",boxShadow:"none",maxWidth:"100%"},accordionItem:{padding:"0"},label:{fontWeight:700},userMail:{color:"#676565",fontWeight:400},expandIcon:{position:"relative",color:"#4e85f5"}}),Ne=function(e){var t=e.children,n=e.renderDetails,a=Ie();return Object(se.jsx)(re.a,{item:!0,children:Object(se.jsxs)(Te.a,{className:a.root,children:[Object(se.jsx)(Fe.a,{expandIcon:Object(se.jsx)(Se.a,{className:a.expandIcon}),"aria-controls":"panel1a-content",id:"panel1a-header",className:a.accordionItem,children:Object(se.jsx)(ie.a,{className:a.label,children:t})}),Object(se.jsx)(ve.a,{className:a.accordionItem,children:n()})]})})},Ae=n(32),we=n(463),We=n(448),Ce=n(452),Be=n(242),Ee=n(243),He=n(114),Le=n(247),Me=n(461),Ge=n(7),De=Object(oe.a)({labelFont:{padding:"5px",fontSize:"12px",fontWeight:700,borderRadius:"5px"},gridItem:{flexBasis:"33%",width:"33%",flexGrow:"1"}}),Ye=Object(Ge.a)({switchBase:{color:"#4e85f5",margin:"0 auto"},checked:{},track:{backgroundColor:"#4e85f5"}})(Me.a),Re=function(e){var t=e.changeHandler,n=e.labels,a=De(),i=Object(Ae.a)(n,2),r=i[0],o=i[1],l=Object(c.useState)({checkedA:!1}),s=Object(Ae.a)(l,2),d=s[0],h=s[1];return Object(se.jsx)(ce.a,{style:{padding:"0"},children:Object(se.jsxs)(re.a,{component:"label",container:!0,justify:"space-between",alignItems:"center",children:[Object(se.jsx)(re.a,{item:!0,className:a.gridItem,style:{textAlign:"right"},children:Object(se.jsx)(ie.a,{className:a.labelFont,style:d.checkedA?{}:{border:"2px solid #4e85f5",padding:"3px"},component:"p",children:r})}),Object(se.jsx)(re.a,{item:!0,children:Object(se.jsx)(Ye,{checked:d.checkedA,onChange:function(e){h(Object(p.a)(Object(p.a)({},d),{},Object(m.a)({},e.target.name,e.target.checked))),t()},name:"checkedA",inputProps:{"aria-label":"statistic type toggle"},className:a.switchBase})}),Object(se.jsx)(re.a,{item:!0,className:a.gridItem,children:Object(se.jsx)(ie.a,{className:a.labelFont,style:d.checkedA?{border:"2px solid #4e85f5",padding:"3px"}:{},component:"p",children:o})})]})})},Pe=n(447),_e=n(456),ze=n(462),Ke=Object(oe.a)((function(e){return{grid:{justifyContent:"space-between"},formControl:{margin:e.spacing(1),minWidth:120,background:"#ffffff"},select:{color:"black",height:"20px"},selectEmpty:{marginTop:e.spacing(2)}}})),Je=Object(o.b)((function(e){return{year:e[ee.STATISTIC].filter,years:Q(e)}}),(function(e){return{setFilter:function(t){e(f(t))}}}))((function(e){var t=e.filter,n=e.setFilter,a=e.years,c=Ke();return Object(se.jsx)(ce.a,{style:{padding:"0"},children:Object(se.jsxs)(re.a,{container:!0,className:c.grid,children:[Object(se.jsx)(ie.a,{component:"p",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434"}),Object(se.jsx)(Pe.a,{variant:"outlined",className:c.formControl,children:Object(se.jsx)(_e.a,{className:c.select,labelId:"select-label",id:"select-outlined",value:t,defaultValue:t,onChange:function(e){n(e.target.value)},label:"Year",children:a.map((function(e){return Object(se.jsx)(ze.a,{value:e,children:e})}))})})]})})})),Ue=["\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b","\u0412\u0440\u0435\u043c\u044f \u043d\u0430\u043b\u0451\u0442\u0430"],Ve=["\u0413\u043e\u0434\u044b","\u041c\u0435\u0441\u044f\u0446\u044b"],qe=Object(o.b)((function(e){return{chartData:q(e)}}),(function(e){return{toggleStatisticType:function(t){e(g(t))}}}))((function(e){var t=e.chartData,n=e.toggleStatisticType,a=Object(c.useState)(!1),i=Object(Ae.a)(a,2),r=i[0],o=i[1],l=Object(c.useState)(!1),s=Object(Ae.a)(l,2),d=s[0],h=s[1],j=d?{marginBottom:"0"}:{marginBottom:"30px"},u=Object(c.useCallback)((function(){o(!r)}),[r]),b=Object(c.useCallback)((function(){h(!d)}),[d]);return Object(c.useEffect)((function(){n(d?Y:D)}),[d,n]),Object(se.jsxs)(re.a,{container:!0,children:[Object(se.jsx)(Re,{changeHandler:b,labels:Ve}),Object(se.jsx)(Re,{style:j,changeHandler:u,labels:Ue}),Object(se.jsx)(re.a,{item:!0,style:{padding:"10px 0",minHeight:"50px",minWidth:"100%"},children:d&&Object(se.jsx)(Je,{})}),Object(se.jsx)("div",{style:{width:"100%",height:"250px",left:"-20px",bottom:"-20px"},children:Object(se.jsx)(we.a,{children:Object(se.jsxs)(We.a,{width:"100%",height:"100%",data:t,children:[Object(se.jsx)(Ce.a,{strokeDasharray:"3 3"}),Object(se.jsx)(Be.a,{dataKey:"name"}),Object(se.jsx)(Ee.a,{}),Object(se.jsx)(He.a,{verticalAlign:"bottom",height:50}),r&&Object(se.jsx)(Le.a,{barSize:10,dataKey:"actualTimeFlight",name:"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u043b\u0435\u0442\u0430",stackId:"a",fill:"rgb(78, 133, 245)"}),r&&Object(se.jsx)(Le.a,{barSize:10,dataKey:"plannedTimeFlight",name:"\u041f\u043b\u0430\u043d\u043e\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0430\u043b\u0435\u0442\u0430",stackId:"a",fill:"rgba(78, 133, 245, 0.6)"}),!r&&Object(se.jsx)(Le.a,{barSize:10,dataKey:"actualTimeWork",name:"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b",stackId:"a",fill:"rgb(78, 133, 245)"}),!r&&Object(se.jsx)(Le.a,{barSize:10,dataKey:"plannedTimeWork",name:"\u041f\u043b\u0430\u043d\u043e\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b",stackId:"a",fill:"rgba(78, 133, 245, 0.6)"})]})})})]})})),Qe=Object(oe.a)({label:{color:"#676565",fontWeight:400,fontSize:"12px"},userMail:{color:"#676565",fontWeight:400},expandIcon:{position:"relative",color:"#4e85f5"}}),Xe=function(){var e=Qe();return Object(se.jsxs)(re.a,{container:!0,children:[Object(se.jsx)(ie.a,{className:e.label,children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043d\u0430\u043b\u0435\u0442\u0430 \u0438 \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"}),Object(se.jsx)(qe,{})]})},Ze=Object(oe.a)({header:{background:"#4e85f5",padding:"28px 0 8px 20px"},main:{padding:"15px 20px 13px 20px"}}),$e=function(e){e.history;var t=Ze(),n=Object(ne.a)("(min-width: 600px)");return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(ae.a,{className:t.header,children:Object(se.jsx)(ce.a,{maxWidth:"xs",children:Object(se.jsx)(ie.a,{color:"textPrimary",variant:n?"h4":"h5",component:"h1",gutterBottom:!0,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})})}),Object(se.jsx)(ae.a,{className:t.main,children:Object(se.jsxs)(re.a,{container:!0,children:[Object(se.jsx)(he,{}),Object(se.jsx)(ye,{}),Object(se.jsx)(Ne,{style:{width:"350px"},renderDetails:function(){return Object(se.jsx)(Xe,{})},children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043d\u0430\u043b\u0451\u0442\u0430"})]})})]})},et=function(){var e=Object(ne.a)("(min-width: 600px)");return Object(se.jsx)(ce.a,{maxWidth:"xs",children:Object(se.jsxs)(ae.a,{my:4,textAlign:"center",children:[Object(se.jsx)(ie.a,{variant:e?"h4":"h5",component:"h2",gutterBottom:!0,children:"\u0414\u0435\u0442\u0430\u043b\u0438"}),Object(se.jsx)(ae.a,{minHeight:"400px",children:Object(se.jsx)(qe,{my:4})})]})})},tt=n(244),nt=n(454),at=n(455),ct=Object(o.b)((function(e){return{isFlightsLoaded:e[ee.FLIGHTS].isFlightsLoaded}}),(function(e){return{getFlights:function(){e(b())}}}))((function(e){var t=e.isFlightsLoaded,n=e.getFlights,a=Object(tt.a)({overrides:{MuiCssBaseline:{"@global":{body:{backgroundColor:"#ffffff"}}}},palette:{primary:{main:"#e5e5e5"},secondary:{main:"#4e85f5"},text:{primary:"#ffffff",secondary:"#000000",third:"#676565"}},background:{default:"#e5e5e5"},typography:{body1:{fontWeight:400,color:"#000000"},body2:{fontWeight:700,color:"#676565"},h5:{fontWeight:700}},spacing:2});return Object(c.useEffect)((function(){t||n()}),[t,n]),Object(se.jsxs)(nt.a,{theme:a,children:[Object(se.jsx)(at.a,{}),Object(se.jsx)(s.a,{children:Object(se.jsxs)(d.c,{children:[Object(se.jsx)(d.a,{exact:!0,path:M,render:function(e){return Object(se.jsx)($e,{history:e.history})}}),Object(se.jsx)(d.a,{exact:!0,path:G,render:function(){return Object(se.jsx)(et,{})}})]})})]})})),it=Object(r.createStore)(te,Object(l.composeWithDevTools)());Object(i.render)(Object(se.jsx)(o.a,{store:it,children:Object(se.jsx)(ct,{})}),document.getElementById("root"))}},[[406,1,2]]]);
//# sourceMappingURL=main.9c4d241f.chunk.js.map